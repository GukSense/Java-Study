### 빈 스코프란?
- 스프링 빈이 존재할 수 있는 범위를 말한다. 스프링 컨테이너가 해당 빈의 생성과 소멸의 관한 규칙을 정의할 수 있다.
- 어플리케이션의 요구에 따라, 무분별하게 빈 인스턴스를 생성하는것이 아니라, 필요한 상황에 적절한 빈이 존재하도록 설정한다면, 자원을 효과적으로 관리하고, 메모리 사용을 최적화하고 성능도 향상 시킬 수 있을것이다.
- 한마디로 그냥 컨테이너의 빈을 좀 더 효율적으로 관리하고 분배하기위해 존재한다고 생각하자.
### 스프링에서의 빈스코프 종류
- 싱글톤(singleton): 스프링 기본 스코프, 컨테이너의 시작과 종료까지 유지되는 스코프 
- 프로토타입(prototype): 컨테이너가 빈의 생성과 의존관계 주입까지만 관여하고 더는 관리하지않는 매우 짧은 범위의 스코프.
  - 각 요청이나 호출 시, 새로운 빈이 제공된다. 
- 웹관련 스코프
   - request: 웹 요청이 들어오고 나갈때 까지 유지되는 스코프
   - session: 웹 세션이 생성되고 종료될 때 까지 유지되는 스코프
   - application:  웹의 서블릿 컨텍스와 같은 범위로 유지되는 스코프
 
<br> *사용방법*

```java
  @Scope("prototype") // singleton은 디폴트값이기 때문에 스코프지정을 하지않아도 된다.
  @Component
  public class MyBean{}
```
### 프로토타입
- 싱글톤스코프와 달리, 빈을 조회하거나 호출할 때 항상 새로운 인스턴스로 반환받고 싶을때 사용한다.
<br>*동작순서*
- 1. 프로토타입 스코프의 빈을 컨테이너에 요청한다.
  2. 스프링컨테이너는 프로토타입 빈을 생성하고 필요한 의존관계를 주입하고, 초기화까지한다.
  3. 요청 클라이언트에 반환한다.
  4. 이후에 스프링 컨테이너에 같은 요청이 오면 위와같이 생성하고 반환을한다.

<br>*어떠한 상황에 사용할까?*
- ex)동시에 여러 쓰레드에서 실행되면서 서로의 동작에 영향을 받지않게 관리해야할 때
- ex)빈클래스의 멤버변수가 존재하고 그 값이 메서드의 파라미터에 의해 변경 될 수 있는 구조로 설계되어있을때

<br>*문제점*
- 싱글톤 스코프의 빈과 함꼐 사용 시 문제가 생길 수 있다.
  - 클라이언트가 프로토타입 스코프의 빈을 직접 호출 할 때는 문제가없다 하지만 싱글톤타입 빈에서 프로토타입 빈을 주입 받아서 실행하여 값을 반환하는 로직을 실행한다고 생각해보자. 이럴 경우 다른 클라이언트에서도 똑같은 요청을 했을때 본인이 의도한값과 다른값이 나올 수 있다.
  - **싱글톤빈의 내부에서 가지고있는 프로토타입 빈은 주입시점에 스프링컨테이너에 요청해서 새로 생성된 것이지 사용할 때마다 새로 생성되는것이 아니기 때문!** 프로토타입 빈이 싱글톤 빈과 함께 계속 유지되는것이다
<br>*문제해결*
